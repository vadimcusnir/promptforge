


PROMPTFORGE v3 — Plan de priorități (Hub unic)
P0 — Live: Hub v1 (critic)

Scope: un singur ecran la /dashboard cu 4 taburi: Overview, Tools, Library (minimal), Resources. Flow compact: 7-D → Module Grid → Prompt Editor → Test → Export. Gating vizibil în butoane.

Rute

/ (landing scurt, CTA “Deschide Hub”)

/dashboard?tab=overview|tools|library|resources (deep-link pe tab)

Fișiere minime

app/dashboard/layout.tsx, app/dashboard/page.tsx (tabs + orcheștrare)

Componente: SevenDPanel, ModuleGrid, PromptEditor, TestEngine, ExportDialog, LibraryList (minim)

Acceptanță (DoR/DoD)

Flow complet în Tools; score simulare vizibil; export UI funcțional; fără CLS; focus vizibil; Lighthouse ≥95.

UX de fundal

Background fix în 4 straturi, o singură montare, respectă prefers-reduced-motion.

P1 — Gating & Paywalls (critic)

Scope: feature-flags la nivel UI + API; upsell la momentele “aha”.

FE

lib/entitlements/useEntitlements.ts + EntitlementGate/withEntitlementGate (gate: Run Real Test, Export PDF/JSON, Bundle ZIP).

components/paywall/{PaywallInline,PaywallModal}.tsx (CTA direct la planul necesar).

API

GET /api/entitlements → flags Pro/Enterprise, bazat pe views “effective”.

Acceptanță

Buton blocat fără entitlement, paywall randat, evenimente de telemetrie pentru gate-hit.

P2 — Test Engine live (critic)

Scope: înlocuiești simularea cu endpoint real, cu tighten-once și prag PASS≥80.

API

POST /api/gpt-test (verifică canUseGptTestReal, scor + tighten-once, log în runs/prompt_scores).

Acceptanță

Prompt testat live; verdict + scor în UI; fără PII în telemetrie.

P3 — Export pipeline (server)

Scope: export txt/md/pdf/json, apoi bundle .zip cu manifest + checksum canonic. Gating: Pro/Enterprise.

API

POST /api/export/bundle → scrie prompt.*, manifest.json, telemetry.json, checksum și opțional .zip.

DB

bundles cu formats[], paths, checksum, license_notice, RLS by membership.

Acceptanță

Ordine canonică în checksum; manifest complet; ZIP doar Enterprise.

P4 — SEO, A11y, Background (major)

SEO

app/sitemap.ts, app/robots.ts, OG meta în app/layout.tsx.

A11y

Contrast ≥4.5:1, landmark-uri, aria-labels, focus ring coerent.

Background

Un singur BackgroundRoot, 4 straturi, densități optimizate pentru mobil/desktop.

P5 — Telemetrie + Dashboard cloud (major)

Tabele

runs, prompt_scores, bundles (indici, RLS by org).

UI

Tab Overview: runs sortate desc, scoruri, TTA, filtre.

KPI & SLO

PASS≥80, P95 TTA text <60s, bundle valid 100%.

P6 — Pricing + Stripe (major)

Plans + entitlements (Pilot/Pro/Enterprise), webhook Stripe → subscriptions + aplicare flags.

/pricing cu matrix clar de capabilități (PDF/JSON/Test live/API/ZIP) și upsell logic.

P7 — Library (minimal)

Scope: listă sesiuni/artefacte cu „Open in Generator”; fără Explorer avansat (versiuni/favorites).

P8 — Neuron Explorer (ulterior)

Motiv amânare: crește scope și time-to-live; revenim după validarea conversiei din Hub v1. Specificațiile actuale ale „neuronului” sunt depășite vs. hub-flow; îl păstrăm ca referință istorică.

Structura site-ului și link-uri

/ – landing scurt → CTA “Deschide Hub”

/dashboard?tab=overview|tools|library|resources – Hub unic

/pricing – planuri & entitlement gates

/docs, /docs/api – ghid + contract API Enterprise

/bundles/:id – manifest + artefacte (serve în funcție de plan)

app/sitemap.ts, app/robots.ts – SEO utilitare

Livrabile pe etapă (minim necesar)

P0: layout.tsx, page.tsx, 6 componente cheie, Lighthouse≥95, fără CLS.

P1: useEntitlements, EntitlementGate, paywalls, /api/entitlements.

P2: /api/gpt-test, scor + tighten-once, UI verdict.

P3: /api/export/bundle, bundles DB, manifest+checksum canonic.

P4: SEO, A11y, Background.

P5: Dashboard cloud (runs/scores/bundles).

P6: Pricing + Stripe webhook + plans → entitlements.

P7: Library minimal.

Riscuri & contramăsuri

Scope creep pe Library/Neuron → îngheață la „minimal list + open in generator”.

Inconsecvențe gating (FE vs API) → enforce la ambele niveluri, teste de integrare.

Export incomplet → blocare DoD dacă lipsește manifest/checksum.

Perf/CLS din background → montaj unic, densitate calibrată, reduce-motion.